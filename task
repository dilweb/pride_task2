
Техническое задание: Реализация системы обработки заказов с использованием брокера сообщений
 • August 27, 2025 at 14:07
1. Общая информация
Название проекта: Мини-система обработки заказов с использованием бов.

Цель проекта: Разработать прототип системы микросервисов для обработки заказов в интернет-магазине, чтобы протестировать функциональность брокера сообщений Apache Kafka в асинхронной архитектуре.

Брокер сообщений: Apache Kafka (версия 3.x).

Язык программирования: Python (с библиотекой confluent-kafka).

2. Цели проекта
Реализовать три микросервиса:
        Сервис 1: Прием заказов от пользователей.

        Сервис 2: Обработка заказов (проверка статуса).

        Сервис 3: Отправка уведомлений о результате.

Настроить Apache Kafka для обмена сообщениями.
Обеспечить асинхронную коммуникацию через топики Kafka.
Протестировать систему на примерах заказов.
3. Архитектура системы
Система включает три микросервиса, взаимодействующих через Apache Kafka:

Order Service:Принимает заказы через REST API.
Публикует заказы в топик orders.
Processing Service:Подписывается на топик orders.
Выполняет проверку заказа (например, подтверждение или отклонение).
Публикует результат в топик notifications.
Notification Service:Подписывается на топик notifications.
Логирует результат обработки в консоль или файл.
Поток данных:

Пользователь отправляет заказ (JSON: order_id, user_id, item, quantity).
Order Service публикует заказ в топик orders.
Processing Service обрабатывает заказ и публикует результат (order_id, status) в топик notifications.
Notification Service выводит результат.
Технический стек:

Брокер: Apache Kafka.
Библиотеки: confluent-kafka, fastapi, uvicorn.
API: FastAPI для Order Service.
Логирование: Python logging.
Хранение данных: Только в Kafka.
4. Технические требования
Язык программирования: Python 3.9+.
Зависимости:confluent-kafka>=2.0.0.
fastapi>=0.95.0, uvicorn>=0.20.0.
Среда: Локальный сервер Kafka (рекомендуется Docker).
Топики Kafka: orders (1 партиция, 1 реплика), notifications (1 партиция, 1 реплика).
Формат сообщений: JSON.
6. Критерии приемки
Система включает три микросервиса, взаимодействующих через Kafka.
Order Service принимает заказы через REST API и публикует их в orders.
Processing Service обрабатывает заказы и отправляет результаты в notifications.
Notification Service логирует результаты.
Система обрабатывает 10 тестовых заказов без ошибок.
7. Ограничения
Без базы данных (данные только в Kafka).
Упрощенная обработка заказов.
Без авторизации в API.
Локальное тестирование.
8. Рекомендации
Использовать Docker для Kafka (confluentinc/cp-kafka, confluentinc/cp-zookeeper).
Тестировать API через Postman или curl.
Включить логирование для отладки.
Если нужны уточнения или правки – пиши в ЛС и я дополню/скорректирую ТЗ.
